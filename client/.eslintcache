[{"/Users/ocean/repos/cookbooks/client/src/index.js":"1","/Users/ocean/repos/cookbooks/client/src/App.js":"2","/Users/ocean/repos/cookbooks/client/src/reportWebVitals.js":"3","/Users/ocean/repos/cookbooks/client/src/GlobalStyle.js":"4","/Users/ocean/repos/cookbooks/client/src/reducers/userReducer.js":"5","/Users/ocean/repos/cookbooks/client/src/components/screens/Home.js":"6","/Users/ocean/repos/cookbooks/client/src/components/screens/SignUp.js":"7","/Users/ocean/repos/cookbooks/client/src/components/screens/SignIn.js":"8","/Users/ocean/repos/cookbooks/client/src/components/screens/Profile.js":"9","/Users/ocean/repos/cookbooks/client/src/components/screens/CreatePost.js":"10","/Users/ocean/repos/cookbooks/client/src/components/screens/UserProfile.js":"11","/Users/ocean/repos/cookbooks/client/src/components/MobileNav.js":"12","/Users/ocean/repos/cookbooks/client/src/components/Nav.js":"13","/Users/ocean/repos/cookbooks/client/src/components/Post.js":"14","/Users/ocean/repos/cookbooks/client/src/hooks/useWindowSize.js":"15"},{"size":500,"mtime":1612567814524,"results":"16","hashOfConfig":"17"},{"size":2122,"mtime":1612717522584,"results":"18","hashOfConfig":"17"},{"size":362,"mtime":1612567814526,"results":"19","hashOfConfig":"17"},{"size":708,"mtime":1612567814520,"results":"20","hashOfConfig":"17"},{"size":472,"mtime":1612724259513,"results":"21","hashOfConfig":"17"},{"size":1776,"mtime":1612904544219,"results":"22","hashOfConfig":"17"},{"size":3434,"mtime":1612567814523,"results":"23","hashOfConfig":"17"},{"size":3100,"mtime":1612567814523,"results":"24","hashOfConfig":"17"},{"size":6114,"mtime":1613024986331,"results":"25","hashOfConfig":"17"},{"size":8190,"mtime":1612939765860,"results":"26","hashOfConfig":"17"},{"size":6301,"mtime":1612716449601,"results":"27","hashOfConfig":"17"},{"size":1704,"mtime":1612567814520,"results":"28","hashOfConfig":"17"},{"size":5581,"mtime":1612657791351,"results":"29","hashOfConfig":"17"},{"size":11757,"mtime":1612939957784,"results":"30","hashOfConfig":"17"},{"size":1158,"mtime":1612567814524,"results":"31","hashOfConfig":"17"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},"xim50z",{"filePath":"35","messages":"36","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37","usedDeprecatedRules":"34"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"46","usedDeprecatedRules":"34"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"51","usedDeprecatedRules":"34"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"58","usedDeprecatedRules":"34"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"63","usedDeprecatedRules":"34"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"66","usedDeprecatedRules":"34"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},"/Users/ocean/repos/cookbooks/client/src/index.js",[],["69","70"],"/Users/ocean/repos/cookbooks/client/src/App.js",["71"],"import React, {\n  useState,\n  useEffect,\n  createContext,\n  useContext,\n  useReducer,\n} from 'react';\nimport { reducer, initialState } from './reducers/userReducer';\nimport {\n  BrowserRouter as Router,\n  Route,\n  Switch,\n  useHistory,\n} from 'react-router-dom';\nimport styled from 'styled-components';\nimport GlobalStyle from './GlobalStyle';\n\nimport Home from './components/screens/Home';\nimport SignIn from './components/screens/SignIn';\nimport SignUp from './components/screens/SignUp';\nimport Profile from './components/screens/Profile';\nimport UserProfile from './components/screens/UserProfile';\nimport { Toaster } from 'react-hot-toast';\nimport CreatePost from './components/screens/CreatePost';\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nexport const UserContext = createContext();\n\nconst Routes = () => {\n  const history = useHistory();\n  const { dispatch } = useContext(UserContext);\n\n  useEffect(() => {\n    const user = JSON.parse(localStorage.getItem('user'));\n    if (user) {\n      dispatch({ type: 'USER', payload: user });\n    } else {\n      // This makes it so that users cannot view the home page unless they log in or make an account.\n      if (!history.location.pathname.startsWith('/reset')) {\n        history.push('/signin');\n      }\n    }\n    //eslint-disable-next-line\n  }, []);\n\n  return (\n    <Switch>\n      <Route exact path=\"/\" component={Home} />\n      <Route exact path=\"/signin\" component={SignIn} />\n      <Route exact path=\"/signup\" component={SignUp} />\n      <Route exact path=\"/profile\" component={Profile} />\n      <Route exact path=\"/profile/:userId\" component={UserProfile} />\n      <Route exact path=\"/createPost\" component={CreatePost} />\n    </Switch>\n  );\n};\n\nfunction App() {\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  return (\n    <UserContext.Provider value={{ state, dispatch }}>\n      <GlobalStyle />\n      <Container>\n        <Router>\n          <Routes />\n        </Router>\n      </Container>\n      <Toaster position=\"bottom-center\" />\n    </UserContext.Provider>\n  );\n}\n\nexport default App;\n","/Users/ocean/repos/cookbooks/client/src/reportWebVitals.js",[],"/Users/ocean/repos/cookbooks/client/src/GlobalStyle.js",[],"/Users/ocean/repos/cookbooks/client/src/reducers/userReducer.js",[],"/Users/ocean/repos/cookbooks/client/src/components/screens/Home.js",["72"],"import React, { useEffect, useState, useContext } from 'react';\nimport styled from 'styled-components';\nimport useWindowSize from '../../hooks/useWindowSize';\nimport { UserContext } from '../../App';\n\nimport Nav from '../Nav';\nimport MobileNav from '../MobileNav';\nimport Post from '../Post';\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nconst Home = () => {\n  const { state, dispatch } = useContext(UserContext);\n  const size = useWindowSize();\n  const [data, setData] = useState([]);\n\n  useEffect(() => {\n    fetch('/feed', {\n      headers: {\n        Authorization: 'Bearer ' + localStorage.getItem('jwt'),\n      },\n    })\n      .then(res => res.json())\n      .then(result => {\n        // console.log('mount');\n        setData(result.posts);\n      });\n    return () => {\n      // console.log('unmount');\n      setData([]);\n    };\n  }, []);\n\n  return (\n    <React.Fragment>\n      <Nav />\n      {!state && (\n        <h4 style={{ marginTop: '4rem' }}>\n          Sign in or create an account to view recipes!\n        </h4>\n      )}\n      <Container>\n        {data.map(post => {\n          return (\n            <Post\n              key={post._id}\n              postId={post._id}\n              title={post.title}\n              authorId={post.postedBy._id}\n              author={post.postedBy.name}\n              authorImage={post.postedBy.pic}\n              image={post.photo}\n              body={post.body}\n              ingredients={post.ingredients}\n              instructions={post.instructions}\n              likes={post.likes}\n              comments={post.comments}\n            />\n          );\n        })}\n      </Container>\n      {size.width <= 600 && <MobileNav />}\n    </React.Fragment>\n  );\n};\n\nexport default Home;\n","/Users/ocean/repos/cookbooks/client/src/components/screens/SignUp.js",[],"/Users/ocean/repos/cookbooks/client/src/components/screens/SignIn.js",["73"],"import React, { useState, useContext } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { toast } from 'react-hot-toast';\nimport { UserContext } from '../../App';\n\nconst Container = styled.div`\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst Card = styled.div`\n  width: 544px;\n  padding: 2rem;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  border-radius: 10px;\n  box-shadow: 0px 4px 26px 0px rgba(0, 0, 0, 0.05);\n  @media only screen and (max-width: 600px) {\n    width: 90%;\n  }\n`;\n\nconst Form = styled.form`\n  width: 60%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  @media only screen and (max-width: 600px) {\n    width: 90%;\n  }\n  margin-top: 1rem;\n  margin-bottom: 2rem;\n`;\n\nconst Input = styled.input`\n  width: 80%;\n  background-color: #fafafa;\n  border-radius: 5px;\n  border: 1px solid lightgrey;\n  margin-bottom: 0.5rem;\n`;\n\nconst Button = styled.button`\n  width: 50%;\n  border-radius: 5px;\n  color: white;\n  font-weight: bold;\n  background: #24fe41;\n  padding: 0.5rem 1rem;\n  margin-top: 0.5rem;\n`;\n\nconst SignIn = () => {\n  const { state, dispatch } = useContext(UserContext);\n  const history = useHistory();\n  const [password, setPassword] = useState('');\n  const [email, setEmail] = useState('');\n\n  const signInUser = () => {\n    if (\n      //eslint-disable-next-line\n      !/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(\n        email\n      )\n    ) {\n      toast.error('invalid email format');\n      return;\n    }\n    fetch('/signin', {\n      method: 'post',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        password,\n        email,\n      }),\n    })\n      .then(res => res.json())\n      .then(data => {\n        if (data.error) {\n          toast.error(data.error);\n        } else {\n          localStorage.setItem('jwt', data.token);\n          localStorage.setItem('user', JSON.stringify(data.user));\n          dispatch({ type: 'USER', payload: data.user });\n          toast.success('Welcome back!');\n          history.push('/');\n        }\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  };\n\n  const onSubmit = e => {\n    e.preventDefault();\n    signInUser();\n  };\n\n  return (\n    <Container>\n      <Card>\n        <h1>Cookbooks</h1>\n        <Form onSubmit={e => onSubmit(e)}>\n          <Input\n            type=\"text\"\n            name=\"email\"\n            placeholder=\"Email\"\n            onChange={e => setEmail(e.target.value)}\n          />\n          <Input\n            type=\"password\"\n            name=\"password\"\n            placeholder=\"Password\"\n            onChange={e => setPassword(e.target.value)}\n          />\n          <Button type=\"submit\">Log In</Button>\n        </Form>\n        <p>\n          Don't have an account? <Link to=\"/signup\">Sign up here.</Link>\n        </p>\n      </Card>\n    </Container>\n  );\n};\n\nexport default SignIn;\n","/Users/ocean/repos/cookbooks/client/src/components/screens/Profile.js",["74"],"/Users/ocean/repos/cookbooks/client/src/components/screens/CreatePost.js",[],"/Users/ocean/repos/cookbooks/client/src/components/screens/UserProfile.js",["75"],"import React, { useState, useEffect, useContext } from 'react';\nimport styled from 'styled-components';\nimport { UserContext } from '../../App';\nimport { useParams } from 'react-router-dom';\nimport Nav from '../Nav';\n\nconst ProfileWrapper = styled.div`\n  width: 975px;\n\n  @media only screen and (max-width: 600px) {\n    width: 100%;\n  }\n`;\n\nconst ProfileHeader = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-evenly;\n  padding: 1rem 0;\n  border-bottom: 1px solid lightgrey;\n\n  @media only screen and (max-width: 600px) {\n    flex-direction: column;\n  }\n`;\n\nconst ProfilePicture = styled.img`\n  height: 140px;\n  width: 140px;\n  border-radius: 99px;\n  object-fit: cover;\n\n  @media only screen and (max-width: 600px) {\n    width: 77px;\n    height: 77px;\n  }\n`;\n\nconst ProfileInfo = styled.section`\n  display: flex;\n  flex-direction: column;\n\n  @media only screen and (max-width: 600px) {\n    align-items: center;\n  }\n`;\n\nconst ProfileStats = styled.section`\n  display: flex;\n  margin: 1rem 0;\n`;\n\nconst FollowButton = styled.button`\n  background: ${props => (props.following ? 'white' : '#1cbf32')};\n  color: ${props => (props.following ? '#1cbf32' : 'white')};\n  border: 2px solid #1cbf32;\n  width: 65%;\n  padding: 0.5rem 1rem;\n  font-weight: bold;\n  border-radius: 5px;\n  transition: all 0.3s ease;\n`;\n\nconst Gallery = styled.section`\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  grid-gap: 0.25rem;\n  justify-items: center;\n  padding-top: 0.5rem;\n`;\n\nconst Image = styled.div`\n  width: 300px;\n  height: 300px;\n  background-image: url(${props => props.image});\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center;\n\n  :hover {\n    cursor: pointer;\n  }\n\n  @media only screen and (max-width: 600px) {\n    width: 123px;\n    height: 123px;\n  }\n`;\n\nconst UserProfile = () => {\n  const [userProfile, setProfile] = useState(null);\n\n  const { state, dispatch } = useContext(UserContext);\n  const { userId } = useParams();\n  const [showfollow, setShowFollow] = useState(\n    state ? !state.following.includes(userId) : true\n  );\n\n  useEffect(() => {\n    fetch(`/user/${userId}`, {\n      headers: {\n        Authorization: 'Bearer ' + localStorage.getItem('jwt'),\n      },\n    })\n      .then(res => res.json())\n      .then(result => {\n        //console.log(result)\n\n        setProfile(result);\n      });\n  }, []);\n\n  const followUser = () => {\n    fetch('/follow', {\n      method: 'put',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + localStorage.getItem('jwt'),\n      },\n      body: JSON.stringify({\n        followId: userId,\n      }),\n    })\n      .then(res => res.json())\n      .then(data => {\n        dispatch({\n          type: 'UPDATE',\n          payload: { following: data.following, followers: data.followers },\n        });\n        localStorage.setItem('user', JSON.stringify(data));\n        setProfile(prevState => {\n          return {\n            ...prevState,\n            user: {\n              ...prevState.user,\n              followers: [...prevState.user.followers, data._id],\n            },\n          };\n        });\n        setShowFollow(false);\n      });\n  };\n\n  const unfollowUser = () => {\n    fetch('/unfollow', {\n      method: 'put',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + localStorage.getItem('jwt'),\n      },\n      body: JSON.stringify({\n        unfollowId: userId,\n      }),\n    })\n      .then(res => res.json())\n      .then(data => {\n        dispatch({\n          type: 'UPDATE',\n          payload: { following: data.following, followers: data.followers },\n        });\n        localStorage.setItem('user', JSON.stringify(data));\n\n        setProfile(prevState => {\n          const newFollower = prevState.user.followers.filter(\n            item => item !== data._id\n          );\n          return {\n            ...prevState,\n            user: {\n              ...prevState.user,\n              followers: newFollower,\n            },\n          };\n        });\n        setShowFollow(true);\n      });\n  };\n\n  return (\n    <React.Fragment>\n      <Nav />\n      {userProfile ? (\n        <ProfileWrapper>\n          <ProfileHeader>\n            <ProfilePicture\n              src={userProfile.user.pic}\n              alt={userProfile.user.name}\n            />\n            <ProfileInfo>\n              <h2 style={{ fontSize: '35px', fontWeight: '500' }}>\n                {userProfile ? userProfile.user.name : 'loading'}\n              </h2>\n              <ProfileStats>\n                <div style={{ marginRight: '1rem' }}>\n                  <h3 style={{ fontWeight: '400' }}>\n                    <span style={{ fontWeight: '600' }}>\n                      {userProfile.posts.length}\n                    </span>{' '}\n                    <span>\n                      {userProfile.posts.length === 1 ? 'post' : 'posts'}\n                    </span>\n                  </h3>\n                </div>\n                <div style={{ marginRight: '1rem' }}>\n                  <h3 style={{ fontWeight: '400' }}>\n                    <span style={{ fontWeight: '600' }}>\n                      {userProfile.user.followers.length}\n                    </span>{' '}\n                    followers\n                  </h3>\n                </div>\n                <div style={{ marginRight: '1rem' }}>\n                  <h3 style={{ fontWeight: '400' }}>\n                    <span style={{ fontWeight: '600' }}>\n                      {userProfile.user.following.length}\n                    </span>{' '}\n                    following\n                  </h3>\n                </div>\n              </ProfileStats>\n              {!showfollow ? (\n                <FollowButton following onClick={() => unfollowUser()}>\n                  Unfollow\n                </FollowButton>\n              ) : (\n                <FollowButton onClick={() => followUser()}>Follow</FollowButton>\n              )}\n            </ProfileInfo>\n          </ProfileHeader>\n          <Gallery>\n            {userProfile.posts.map(post => (\n              <Image image={post.photo} key={post.title}></Image>\n            ))}\n          </Gallery>\n        </ProfileWrapper>\n      ) : (\n        <h4>Loading...</h4>\n      )}\n    </React.Fragment>\n  );\n};\n\nexport default UserProfile;\n","/Users/ocean/repos/cookbooks/client/src/components/MobileNav.js",[],"/Users/ocean/repos/cookbooks/client/src/components/Nav.js",["76"],"import React, { useState, useEffect, useContext } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { UserContext } from '../App';\nimport styled from 'styled-components';\nimport useWindowSize from '../hooks/useWindowSize';\nimport { Squash as Hamburger } from 'hamburger-react';\nimport toast from 'react-hot-toast';\n\nconst Navbar = styled.nav`\n  width: 100%;\n  box-shadow: 0px 4px 26px 0px rgba(0, 0, 0, 0.05);\n  display: flex;\n  justify-content: center;\n  padding: 0.5rem 0;\n`;\n\nconst Wrapper = styled.div`\n  width: 85%;\n  padding-top: 1.5rem;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n\n  @media only screen and (max-width: 600px) {\n    width: 95%;\n  }\n`;\n\nconst LogoLink = styled(Link)`\n  text-decoration: none;\n  color: black;\n\n  &:focus,\n  &:hover,\n  &:visited,\n  &:link,\n  &:active {\n    text-decoration: none;\n  }\n`;\n\nconst Logo = styled.h2`\n  font-size: 2rem;\n  background: -webkit-linear-gradient(#fdfc47, #24fe41);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  font-family: 'Pacifico', cursive;\n  margin: 0;\n`;\n\nconst LinkList = styled.div`\n  display: flex;\n`;\n\nconst StyledLink = styled(Link)`\n  padding: ${props => (props.secondary ? '0' : '1rem')};\n  text-decoration: none;\n  color: black;\n  transition: all 0.3s ease;\n\n  :focus,\n  :hover {\n    color: #24fe41;\n  }\n  :visited,\n  :link,\n  :active {\n    text-decoration: none;\n  }\n`;\n\nconst LinkWrapper = styled.div`\n  display: flex;\n  align-items: center;\n`;\n\nconst OpenMenuButton = styled.div`\n  cursor: pointer;\n  border-left: 1px solid lightgrey;\n  padding-left: 1rem;\n  color: ${props => (props.isOpen ? '#24fe41' : 'black')};\n  transition: all 0.3s ease;\n`;\n\nconst MenuWrapper = styled.div`\n  width: 150px;\n  background: white;\n  box-shadow: 0px 4px 26px 0px rgba(0, 0, 0, 0.05);\n  border-radius: 10px;\n  position: absolute;\n  right: 1rem;\n  top: 5rem;\n  z-index: 1;\n`;\n\nconst MenuList = styled.ul`\n  list-style: none;\n  margin: 0;\n  padding: 0;\n`;\n\nconst MenuItem = styled.li`\n  padding: 1rem;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  color: black;\n  border-radius: ${props => props.top && '10px 10px 0 0'};\n  border-radius: ${props => props.middle && '0'};\n  border-radius: ${props => props.bottom && '0 0 10px 10px'};\n\n  :hover {\n    background: #f5f5f5;\n  }\n`;\n\nconst Nav = () => {\n  const { state, dispatch } = useContext(UserContext);\n  const history = useHistory();\n  const size = useWindowSize();\n  //TODO: show auth links only when user isn't logged in\n  const [isLoggedIn, setIsLoggedIn] = useState(true);\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\n  const [isOpen, setIsOpen] = useState(false);\n\n  useEffect(() => {\n    checkLogIn();\n  }, []);\n\n  const checkLogIn = () => {\n    if (localStorage.getItem('jwt')) {\n      setIsLoggedIn(true);\n    } else {\n      setIsLoggedIn(false);\n    }\n  };\n\n  const LogOut = () => {\n    localStorage.clear();\n    dispatch({ type: 'CLEAR' });\n    history.push('/signin');\n    setIsLoggedIn(false);\n    setIsMenuOpen(false);\n    toast('See you soon!', {\n      icon: '👋',\n    });\n  };\n\n  const PopoutMenu = () => {\n    return (\n      <MenuWrapper\n        onMouseEnter={() => setIsMenuOpen(true)}\n        onMouseLeave={() => setIsMenuOpen(false)}\n      >\n        <MenuList>\n          {isLoggedIn ? (\n            <React.Fragment>\n              <StyledLink to=\"/createpost\" secondary=\"true\">\n                <MenuItem top>Post a recipe</MenuItem>\n              </StyledLink>\n              <StyledLink to=\"/profile\" secondary=\"true\">\n                <MenuItem middle>View profile</MenuItem>\n              </StyledLink>\n              <MenuItem bottom onClick={() => LogOut()}>\n                Log out\n              </MenuItem>\n            </React.Fragment>\n          ) : (\n            <React.Fragment>\n              <StyledLink to=\"/signin\" secondary=\"true\">\n                <MenuItem>Sign In</MenuItem>\n              </StyledLink>\n              <StyledLink to=\"/signup\" secondary=\"true\">\n                <MenuItem>Create an account</MenuItem>\n              </StyledLink>\n            </React.Fragment>\n          )}\n        </MenuList>\n      </MenuWrapper>\n    );\n  };\n\n  return (\n    <Navbar>\n      <Wrapper>\n        <LogoLink to=\"/\">\n          <Logo>Cookbooks</Logo>\n        </LogoLink>\n        {size.width <= 600 ? (\n          <div onClick={() => setIsMenuOpen(!isMenuOpen)}>\n            <Hamburger toggled={isOpen} toggle={setIsOpen} size={20} />\n            {isMenuOpen && <PopoutMenu />}\n          </div>\n        ) : (\n          <React.Fragment>\n            <LinkList>\n              {!isLoggedIn && (\n                <React.Fragment>\n                  <StyledLink to=\"/signin\">\n                    <h4>Sign In</h4>\n                  </StyledLink>\n                  <StyledLink to=\"/signup\">\n                    <h4>Create an account</h4>\n                  </StyledLink>\n                </React.Fragment>\n              )}\n\n              {isLoggedIn && (\n                <LinkWrapper>\n                  <StyledLink to=\"/profile\">\n                    <h4>My Profile</h4>\n                  </StyledLink>\n                  <OpenMenuButton\n                    isOpen={isMenuOpen}\n                    onClick={() => setIsMenuOpen(!isMenuOpen)}\n                  >\n                    <i className=\"fas fa-sort-down\"></i>\n                  </OpenMenuButton>\n                </LinkWrapper>\n              )}\n            </LinkList>\n            {isMenuOpen && <PopoutMenu />}\n          </React.Fragment>\n        )}\n      </Wrapper>\n    </Navbar>\n  );\n};\n\nexport default Nav;\n","/Users/ocean/repos/cookbooks/client/src/components/Post.js",["77","78"],"import React, { useState, useEffect, useContext } from 'react';\nimport { UserContext } from '../App';\nimport { useHistory, Link } from 'react-router-dom';\nimport styled from 'styled-components';\nimport toast from 'react-hot-toast';\nimport Modal from 'react-modal';\n\nconst Card = styled.div`\n  width: 614px;\n  margin-top: 1rem;\n  margin-bottom: 1rem;\n  border-radius: 10px;\n  box-shadow: 0px 4px 25px 0px rgba(0, 0, 0, 0.1);\n\n  @media only screen and (max-width: 600px) {\n    width: 100%;\n  }\n`;\n\nconst CardHeader = styled.div`\n  padding: 1rem;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n`;\n\nconst HeaderInfo = styled.div`\n  display: flex;\n`;\n\nconst ProfileIcon = styled.img`\n  width: 32px;\n  height: 32px;\n  object-fit: cover;\n\n  margin-right: 0.5rem;\n  border: 2px solid #24fe41;\n  border-radius: 100px;\n  padding: 2px;\n`;\n\nconst MenuIconButton = styled.div`\n  cursor: pointer;\n  color: ${props => (props.showMenu ? 'grey' : 'darkgrey')};\n  padding: 0 1rem;\n\n  transition: all 0.3s ease;\n`;\n\nconst StyledLink = styled(Link)`\n  text-decoration: none;\n  color: black;\n\n  &:focus,\n  &:hover,\n  &:visited,\n  &:link,\n  &:active {\n    text-decoration: none;\n  }\n`;\n\nconst MenuWrapper = styled.div`\n  position: relative;\n  display: inline-block;\n`;\n\nconst Menu = styled.div`\n  width: 150px;\n  background: white;\n  box-shadow: 0px 4px 26px 0px rgba(0, 0, 0, 0.05);\n  border-radius: 10px;\n  position: absolute;\n  z-index: 1;\n  right: 0;\n`;\n\nconst MenuList = styled.ul`\n  list-style: none;\n  margin: 0;\n  padding: 0;\n`;\n\nconst MenuItem = styled.li`\n  padding: 1rem;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  font-weight: 500;\n  color: #d32f2f;\n  border-radius: 10px;\n  :hover {\n    background: #f5f5f5;\n  }\n`;\n\nconst CardContent = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\nconst CardImage = styled.img`\n  width: 614px;\n  height: 614px;\n  object-fit: cover;\n  object-position: 50% 50%;\n\n  @media only screen and (max-width: 600px) {\n    width: 100%;\n  }\n`;\n\nconst CardBody = styled.div`\n  padding: 0.5rem 1rem 1rem 1rem;\n`;\n\nconst CardButtons = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n`;\n\nconst StarButton = styled.button`\n  display: flex;\n  align-items: center;\n`;\n\nconst StarIcon = styled.i`\n  color: ${props => (props.liked ? 'gold' : 'darkgrey')};\n  transition: all 0.3s ease;\n  :hover {\n    color: gold;\n  }\n  margin-right: 0.2rem;\n`;\n\nconst ViewRecipeButton = styled.button`\n  background: #24fe41;\n  color: white;\n  font-weight: 600;\n  padding: 0.5rem 1rem;\n  border-radius: 5px;\n`;\n\nconst CommentForm = styled.form`\n  display: flex;\n  align-items: center;\n  justify-content: space-evenly;\n  margin-top: 0.5rem;\n`;\n\nconst CommentInput = styled.input`\n  width: 80%;\n  border-radius: 100px;\n  background-color: #fafafa;\n  margin-right: 0.5rem;\n`;\n\nconst PostCommentButton = styled.button`\n  color: #24fe41;\n  font-weight: bold;\n`;\n\nconst w = window.innerWidth;\n\nconst ModalStyles = {\n  overlay: {\n    position: 'fixed',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    backgroundColor: 'rgba(255, 255, 255, 0.5)',\n    backdropFilter: 'blur(5px)',\n  },\n  content: {\n    zIndex: '1',\n    top: '50%',\n    left: '50%',\n    right: 'auto',\n    bottom: 'auto',\n    marginRight: '-50%',\n    padding: '4rem 0',\n    transform: 'translate(-50%, -50%)',\n    maxWidth: w <= 600 ? '375px' : '650px',\n    maxHeight: '600px',\n    overflow: 'auto',\n    WebkitOverflowScrolling: 'touch',\n    borderRadius: '10px',\n    border: 'none',\n    boxShadow: '0px 4px 26px 0px rgba(0, 0, 0, 0.1)',\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n};\n\nconst CloseModalButton = styled.button`\n  color: lightgrey;\n  position: absolute;\n  top: 1rem;\n  right: 1rem;\n`;\n\nconst ModalHeader = styled.h2`\n  margin-top: ${props => (props.top ? '0' : '2rem')};\n  font-weight: ${props => (props.title ? '500' : '400')};\n  text-align: center;\n`;\n\nconst ModalCaption = styled.p`\n  margin: ${w <= 600 ? '2rem 2rem' : '2rem 4rem'};\n  text-align: center;\n  line-height: 1.6;\n`;\n\nModal.setAppElement('#root');\n\nconst Post = ({\n  postId,\n  title,\n  authorId,\n  author,\n  authorImage,\n  image,\n  body,\n  ingredients,\n  instructions,\n  likes,\n  comments,\n}) => {\n  const { state, dispatch } = useContext(UserContext);\n  const history = useHistory();\n  const [showMenu, setShowMenu] = useState(false);\n  const [liked, setLiked] = useState(false);\n  const [commentText, setCommentText] = useState('');\n  const [numberOfLikes, setNumberOfLikes] = useState(0);\n  const [modalIsOpen, setIsOpen] = useState(false);\n\n  useEffect(() => {\n    setNumberOfLikes(likes.length);\n    checkIfLiked();\n  }, [likes]);\n\n  const likePost = id => {\n    setLiked(true);\n    fetch('/like', {\n      method: 'put',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + localStorage.getItem('jwt'),\n      },\n      body: JSON.stringify({\n        postId: id,\n      }),\n    })\n      .then(res => res.json())\n      .then(result => {\n        // console.log(result);\n        setNumberOfLikes(result.likes.length);\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  };\n\n  const unlikePost = id => {\n    setLiked(false);\n    fetch('/unlike', {\n      method: 'put',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + localStorage.getItem('jwt'),\n      },\n      body: JSON.stringify({\n        postId: id,\n      }),\n    })\n      .then(res => res.json())\n      .then(result => {\n        // console.log(result);\n        setNumberOfLikes(result.likes.length);\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  };\n\n  const makeComment = (text, postId) => {\n    fetch('/comment', {\n      method: 'put',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + localStorage.getItem('jwt'),\n      },\n      body: JSON.stringify({\n        postId,\n        text,\n      }),\n    })\n      .then(res => res.json())\n      .then(result => {\n        // console.log(result);\n        toast.success('Comment posted');\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  };\n\n  const deletePost = postId => {\n    fetch(`/deletepost/${postId}`, {\n      method: 'delete',\n      headers: {\n        Authorization: 'Bearer ' + localStorage.getItem('jwt'),\n      },\n    })\n      .then(res => res.json())\n      .then(result => {\n        history.go(0);\n        toast('Recipe successfully deleted', {\n          icon: '🔪',\n        });\n      });\n  };\n\n  const checkIfLiked = () => {\n    if (state && likes.includes(state._id)) {\n      setLiked(true);\n    }\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    makeComment(commentText, postId);\n    setCommentText('');\n  };\n\n  function openModal() {\n    setIsOpen(true);\n  }\n\n  function closeModal() {\n    setIsOpen(false);\n  }\n\n  const PopoutMenu = () => {\n    return (\n      <Menu onMouseLeave={() => setShowMenu(!setShowMenu)}>\n        <MenuList>\n          <React.Fragment>\n            <MenuItem onClick={() => deletePost(postId)}>\n              Delete recipe\n            </MenuItem>\n          </React.Fragment>\n        </MenuList>\n      </Menu>\n    );\n  };\n\n  const RecipeModal = () => {\n    return (\n      <Modal\n        isOpen={modalIsOpen}\n        onRequestClose={closeModal}\n        style={ModalStyles}\n        contentLabel={`${title} Modal`}\n      >\n        <CloseModalButton onClick={() => closeModal()}>\n          <i className=\"fas fa-times fa-lg\"></i>\n        </CloseModalButton>\n        <ModalHeader top title>\n          {title}\n        </ModalHeader>\n        <h3 style={{ marginTop: '1rem' }}>by {author}</h3>\n        <ModalCaption>{body}</ModalCaption>\n        <ModalHeader>Ingredients</ModalHeader>\n        <ul>\n          {ingredients.map((ingredient, index) => {\n            return (\n              <li style={{ margin: '1rem' }} key={index}>\n                {ingredient}\n              </li>\n            );\n          })}\n        </ul>\n        <ModalHeader>Instructions</ModalHeader>\n        <ol>\n          {instructions.map((instruction, index) => {\n            return (\n              <li\n                style={{\n                  margin: w <= 600 ? '1rem' : '1rem 4rem',\n                  lineHeight: '1.6',\n                }}\n                key={index}\n              >\n                {instruction}\n              </li>\n            );\n          })}\n        </ol>\n      </Modal>\n    );\n  };\n\n  return (\n    <React.Fragment>\n      <RecipeModal />\n      {state && (\n        <Card>\n          <CardHeader>\n            <HeaderInfo>\n              <StyledLink\n                to={\n                  authorId !== state._id ? `/profile/${authorId}` : '/profile'\n                }\n              >\n                <ProfileIcon src={authorImage} alt={author} />\n              </StyledLink>\n              <div>\n                <h3 style={{ fontWeight: '500' }}>{title}</h3>\n                <h4>\n                  <StyledLink\n                    to={\n                      authorId !== state._id\n                        ? `/profile/${authorId}`\n                        : '/profile'\n                    }\n                  >\n                    {author}\n                  </StyledLink>\n                </h4>\n              </div>\n            </HeaderInfo>\n            {state._id === authorId ? (\n              <MenuWrapper>\n                <MenuIconButton\n                  showMenu={showMenu}\n                  onClick={() => setShowMenu(!showMenu)}\n                >\n                  <i className=\"fas fa-ellipsis-v\"></i>\n                </MenuIconButton>\n                {showMenu && <PopoutMenu />}\n              </MenuWrapper>\n            ) : null}\n          </CardHeader>\n          <CardContent>\n            <CardImage src={`${image}`} alt=\"steak\" />\n            <CardBody>\n              <CardButtons>\n                <div style={{ margin: '0.5rem 0' }}>\n                  <StarButton\n                    onClick={() => {\n                      liked ? unlikePost(postId) : likePost(postId);\n                    }}\n                  >\n                    {liked ? (\n                      <StarIcon className=\"fas fa-star fa-2x\" liked={liked} />\n                    ) : (\n                      <StarIcon className=\"far fa-star fa-2x\" />\n                    )}\n                    <span style={{ fontSize: '1rem' }}>\n                      {' '}\n                      {numberOfLikes} {numberOfLikes === 1 ? 'Star' : 'Stars'}\n                    </span>\n                  </StarButton>\n                </div>\n                <ViewRecipeButton onClick={() => openModal()}>\n                  View Recipe\n                </ViewRecipeButton>\n              </CardButtons>\n              <p>\n                <span style={{ fontWeight: '600' }}>{author}</span> {body}\n              </p>\n              <h4 style={{ color: 'grey' }}>Comments</h4>\n              {comments.map(comment => {\n                return (\n                  <p key={comment._id}>\n                    <span style={{ fontWeight: '600' }}>\n                      {comment.postedBy.name}{' '}\n                    </span>\n                    {comment.text}\n                  </p>\n                );\n              })}\n              <CommentForm onSubmit={e => handleSubmit(e)}>\n                <CommentInput\n                  type=\"text\"\n                  placeholder=\"Add comment...\"\n                  value={commentText}\n                  onChange={e => setCommentText(e.target.value)}\n                />\n                <PostCommentButton type=\"submit\">POST</PostCommentButton>\n              </CommentForm>\n            </CardBody>\n          </CardContent>\n        </Card>\n      )}\n    </React.Fragment>\n  );\n};\n\nexport default Post;\n","/Users/ocean/repos/cookbooks/client/src/hooks/useWindowSize.js",[],{"ruleId":"79","replacedBy":"80"},{"ruleId":"81","replacedBy":"82"},{"ruleId":"83","severity":1,"message":"84","line":2,"column":3,"nodeType":"85","messageId":"86","endLine":2,"endColumn":11},{"ruleId":"83","severity":1,"message":"87","line":17,"column":18,"nodeType":"85","messageId":"86","endLine":17,"endColumn":26},{"ruleId":"83","severity":1,"message":"88","line":58,"column":11,"nodeType":"85","messageId":"86","endLine":58,"endColumn":16},{"ruleId":"89","severity":1,"message":"90","line":165,"column":6,"nodeType":"91","endLine":165,"endColumn":13,"suggestions":"92"},{"ruleId":"89","severity":1,"message":"93","line":111,"column":6,"nodeType":"91","endLine":111,"endColumn":8,"suggestions":"94"},{"ruleId":"83","severity":1,"message":"88","line":117,"column":11,"nodeType":"85","messageId":"86","endLine":117,"endColumn":16},{"ruleId":"83","severity":1,"message":"87","line":231,"column":18,"nodeType":"85","messageId":"86","endLine":231,"endColumn":26},{"ruleId":"89","severity":1,"message":"95","line":242,"column":6,"nodeType":"91","endLine":242,"endColumn":13,"suggestions":"96"},"no-native-reassign",["97"],"no-negated-in-lhs",["98"],"no-unused-vars","'useState' is defined but never used.","Identifier","unusedVar","'dispatch' is assigned a value but never used.","'state' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'dispatch' and 'state'. Either include them or remove the dependency array.","ArrayExpression",["99"],"React Hook useEffect has a missing dependency: 'userId'. Either include it or remove the dependency array.",["100"],"React Hook useEffect has a missing dependency: 'checkIfLiked'. Either include it or remove the dependency array.",["101"],"no-global-assign","no-unsafe-negation",{"desc":"102","fix":"103"},{"desc":"104","fix":"105"},{"desc":"106","fix":"107"},"Update the dependencies array to be: [dispatch, image, state]",{"range":"108","text":"109"},"Update the dependencies array to be: [userId]",{"range":"110","text":"111"},"Update the dependencies array to be: [checkIfLiked, likes]",{"range":"112","text":"113"},[3769,3776],"[dispatch, image, state]",[2377,2379],"[userId]",[4679,4686],"[checkIfLiked, likes]"]